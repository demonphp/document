apisdk
xisdsfds
https://www.cnblogs.com/xjnotxj/p/6916509.html
# 允许外网 IP 访问
# insert into mysql.user(Host,User,Password) values('%','sdk',password('xisdsfds'));
# 刷新授权
# flush privileges;
# 创建数据库
# create database sdk DEFAULT CHARSET utf8 COLLATE utf8_general_ci;
# 授予用户通过外网IP对于该数据库的全部权限
# grant all privileges on `sdk`.* to 'sdk'@'%' identified by '1234';
# 授予用户在本地服务器对该数据库的全部权限
# grant all privileges on `sdk`.* to 'sdk'@'localhost' identified by '1234';
# 刷新权限
#
# 退出 root 重新登录

# \q
# 已新帐号 zhouz 登录，由于使用的是 % 任意IP连接，所以需要指定外部访问IP
# mysql -u zhouz -h 192.168.1.168 -p
# 1234

CREATE USER 'apisdk'@'%' IDENTIFIED BY 'xisdsfds';
update mysql.user set password=password('xisdsfds') where user='apisdk';

grant all privileges on sdk.* to 'apisdk'@'%';
flush privileges;



$key = '1234567890123456';   //16字节
$iv = '1234567890123456';    //16字节
$str = 'abcdefg测试密文';

$encrypted = mcrypt_encrypt(MCRYPT_RIJNDAEL_128, $key, $str, MCRYPT_MODE_CBC, $iv);
var_dump(base64_encode($encrypted)) ;
$en_data = base64_encode($encrypted);

$de_data = mcrypt_decrypt(MCRYPT_RIJNDAEL_128, $key, base64_decode($en_data), MCRYPT_MODE_CBC, $iv);
var_dump($de_data);

echo "<br/>";
$str_padded = $str;
if (strlen($str_padded) % 16) {
    $str_padded = str_pad($str_padded,strlen($str_padded) + 16 - strlen($str_padded) % 16, "\0");
}

$encrypted = openssl_encrypt($str_padded, 'aes-128-cbc', $key, OPENSSL_NO_PADDING , $iv);
var_dump( base64_encode($encrypted));
$str = base64_encode($encrypted);

$str = 'n3SGNILTRBOugRKy6Sn2zEF2T+r/Pv3jHFXywN7KI3snubzNqAUJjcz5Q17VclQDDing49H1qAMLlCRZStkGoAepajr19R1V6a29k4TpnFIzRNMkcZ0oRTsGhIdRhWxMLfABrRzAM9D14fFlqIRmWhL9XtPybut1c0WJ+clIMBRedx1GshpW1ahMObWK6apu+sv4yjh56+gGaQrgnbrjY6pcb+phVVdkPI7N391ny49HZW9YWxp6/gqjYVhw6YW7J4978/7DB/gXy3/NGzk0k+9kuLtukod2/uhqo2ftIlLG4PMPpv4euB5BdBXdh67CHbXv8PWLMsU1pEuew411WkThFCpQsTeWO5k23uDQdPLqVhX9AvI3Q1+QlP4Ac1MaDRtqMkJOyCs32mbzs7vigN//RouSKmUDy+hjtAdkCTs/5dHv+qfoe4qiIa3j524HRwjC18xNISSH5bV9GcNxBXS8Pg3ZTioBH6plrEV18kERA+SNnjsiiLo9DN/LtrM6LBYZ70uXBQfslh/wHJmXyiYbAESb6aPVap3pue/vwkCelgJewTsheNuDCfnZ/bewCiBTclmt4QFJluozCTJVfw==';
$decrypted =openssl_decrypt( base64_decode($str) , 'aes-128-cbc', $key, OPENSSL_NO_PADDING, $iv);
var_dump($decrypted);
$destr = rtrim( rtrim( $decrypted,chr(0) ), chr(7) );
var_dump($destr);
